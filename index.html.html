<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°ì‚¬í•œë‹¬ ìº í˜ì¸</title>
    <style>
        :root {
            --primary-color: #ff6b35;
            --secondary-color: #ff9a56;
            --accent-color: #22c55e;
            --text-color: #333;
            --bg-color: #fff7ed;
            --card-bg: white;
            --shadow: 0 2px 10px rgba(0,0,0,0.1);
            --border-radius: 8px;
            --transition: all 0.3s ease;
        }

        body {
            box-sizing: border-box;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            color: white;
            text-align: center;
            padding: 40px 20px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }
        
        .title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .countdown {
            background: var(--card-bg);
            color: var(--text-color);
            padding: 30px;
            border-radius: var(--border-radius);
            margin: 20px auto;
            max-width: 500px;
        }
        
        .countdown h2 {
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .time-boxes {
            display: flex;
            justify-content: space-around;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .time-box {
            color: white;
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            min-width: 60px;
            transition: var(--transition);
        }
        
        .time-box:hover, .time-box:focus {
            transform: scale(1.05);
            outline: 2px solid var(--accent-color);
        }
        
        .time-box:nth-child(1) { background: #f97316; }
        .time-box:nth-child(2) { background: #ef4444; }
        .time-box:nth-child(3) { background: #eab308; }
        .time-box:nth-child(4) { background: var(--accent-color); }
        
        .time-number {
            font-size: 1.8rem;
            font-weight: bold;
            display: block;
        }
        
        .time-label {
            font-size: 0.9rem;
        }
        
        .card {
            background: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .card:hover, .card:focus-within {
            transform: translateY(-5px);
        }
        
        .section-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 30px;
            color: var(--text-color);
        }
        
        .overview-text {
            font-size: 1.1rem;
            line-height: 1.7;
            text-align: center;
        }
        
        .highlight {
            background: var(--bg-color);
            border-left: 4px solid var(--primary-color);
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }
        
        .steps {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 30px;
        }
        
        .step {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .step:hover, .step:focus-within {
            transform: translateY(-5px);
        }
        
        .step-number {
            width: 50px;
            height: 50px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0 auto 15px;
        }
        
        .schedule {
            background: linear-gradient(135deg, var(--primary-color), #d63031);
            color: white;
            padding: 30px;
            border-radius: var(--border-radius);
            text-align: center;
        }
        
        .schedule-items {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .schedule-item {
            text-align: center;
            padding: 20px;
            border-radius: var(--border-radius);
            transition: var(--transition);
            background: rgba(255, 255, 255, 0.1);
        }
        
        .schedule-item:hover, .schedule-item:focus {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }
        
        .schedule-date {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .info-box {
            background: #eff6ff;
            border-left: 4px solid #60a5fa;
            padding: 20px;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            text-align: center;
            color: #1e40af;
            font-weight: 500;
        }
        
        .gratitude-form {
            background: linear-gradient(135deg, var(--primary-color), #d63031);
            color: white;
            padding: 30px;
            border-radius: var(--border-radius);
        }
        
        .form-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .form-subtitle {
            text-align: center;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .form-input, .form-textarea {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            box-sizing: border-box;
        }
        
        .form-textarea {
            height: 100px;
            resize: vertical;
        }
        
        .submit-btn {
            width: 100%;
            background: var(--card-bg);
            color: var(--primary-color);
            padding: 15px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .submit-btn:hover, .submit-btn:focus {
            background: #f9f9f9;
            outline: 2px solid var(--accent-color);
        }
        
        .shared-section {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-top: 30px;
        }
        
        .gratitude-list {
            margin-top: 20px;
        }
        
        .gratitude-item {
            background: rgba(255,255,255,0.95);
            color: var(--text-color);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            transition: var(--transition);
        }
        
        .gratitude-item:hover, .gratitude-item:focus-within {
            background: var(--card-bg);
            transform: translateX(10px);
        }
        
        .gratitude-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .user-name {
            font-weight: bold;
        }
        
        .gratitude-text {
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .gratitude-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: #666;
        }
        
        .like-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .like-btn:hover, .like-btn:focus {
            color: var(--primary-color);
            outline: 2px solid var(--accent-color);
        }
        
        .load-more-btn {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .load-more-btn:hover, .load-more-btn:focus {
            background: #e65a2e;
            outline: 2px solid var(--accent-color);
        }
        
        .footer {
            background: #1f2937;
            color: white;
            text-align: center;
            padding: 30px;
            margin-top: 50px;
        }
        
        .footer-verse {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--accent-color);
            color: white;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            display: none;
            z-index: 1000;
        }
        
        .notification.show {
            display: block;
        }
        
        .nav-menu {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            padding: 10px 0;
            z-index: 1000;
            min-width: 100px;
        }
        
        .nav-item {
            display: block;
            padding: 8px 15px;
            color: #666;
            text-decoration: none;
            transition: var(--transition);
            font-size: 0.9rem;
        }
        
        .nav-item:hover, .nav-item:focus {
            background: var(--primary-color);
            color: white;
            outline: none;
        }
        
        .nav-item.active {
            background: var(--primary-color);
            color: white;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2rem;
            color: #666;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .title {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .time-boxes {
                justify-content: center;
            }
            
            .schedule-items {
                flex-direction: column;
                gap: 15px;
            }
            
            .steps {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .nav-menu {
                right: 10px;
                min-width: 80px;
            }
            
            .nav-item {
                font-size: 0.8rem;
                padding: 6px 10px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .title {
                font-size: 1.8rem;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
            
            .steps {
                grid-template-columns: 1fr;
            }
            
            .submit-btn, .load-more-btn {
                padding: 12px;
                font-size: 1rem;
            }
            
            .form-input, .form-textarea {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="loading" id="loading" role="status" aria-live="polite">í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    
    <div id="mainContent" style="display: none;">
        <div id="notification" class="notification" role="alert" aria-live="assertive">
            ğŸ™ ê°ì‚¬ ê¸°ë¡ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!
        </div>

        <nav class="nav-menu" role="navigation" aria-label="ì£¼ ë©”ë‰´">
            <a href="#home" class="nav-item" aria-current="page">í™ˆ</a>
            <a href="#overview" class="nav-item">ê°œìš”</a>
            <a href="#how-to" class="nav-item">ì°¸ì—¬ë°©ë²•</a>
            <a href="#schedule" class="nav-item">ì¼ì •</a>
            <a href="#share" class="nav-item">ê°ì‚¬ë‚˜ëˆ”</a>
        </nav>

        <div class="container">
            <header id="home" class="header">
                <h1 class="title">ğŸ‚ ê°ì‚¬í•œë‹¬ ìº í˜ì¸</h1>
                
                <div class="countdown">
                    <h2 id="countdownTitle">ìº í˜ì¸ ì‹œì‘ê¹Œì§€</h2>
                    <div class="time-boxes" id="timeBoxes">
                        <div class="time-box" role="timer">
                            <span class="time-number" id="days">00</span>
                            <span class="time-label">ì¼</span>
                        </div>
                        <div class="time-box">
                            <span class="time-number" id="hours">00</span>
                            <span class="time-label">ì‹œê°„</span>
                        </div>
                        <div class="time-box">
                            <span class="time-number" id="minutes">00</span>
                            <span class="time-label">ë¶„</span>
                        </div>
                        <div class="time-box">
                            <span class="time-number" id="seconds">00</span>
                            <span class="time-label">ì´ˆ</span>
                        </div>
                    </div>
                    <p id="countdownMessage">2025ë…„ 10ì›” 20ì¼ ì‹œì‘</p>
                </div>
            </header>

            <section id="overview" class="card">
                <div class="overview-text">
                    <p style="font-size: 1.3rem; color: var(--primary-color); font-weight: 600; margin-bottom: 20px;">
                        "ê¹Šì–´ê°€ëŠ” ê°€ì„, í•˜ë‚˜ë‹˜ì˜ í’ì„±í•œ ì€í˜œê°€ ì—¬ëŸ¬ë¶„ì˜ ì‚¶ì— ê°€ë“í•˜ê¸°ë¥¼ ì¶•ë³µí•©ë‹ˆë‹¤"
                    </p>
                    <p>
                        ì´ë²ˆ <strong>'ê°ì‚¬í•œë‹¬ ìº í˜ì¸'</strong>ì„ í†µí•´ ìš°ë¦¬ëŠ” "ë²”ì‚¬ì— ê°ì‚¬í•˜ë¼"ëŠ” ê·€í•œ ë¯¿ìŒì˜ í›ˆë ¨ì„ í•¨ê»˜ í•˜ê³ ì í•©ë‹ˆë‹¤. 
                        ìš°ë¦¬ì˜ í˜•í¸ê³¼ ê°ì •ì— ìƒê´€ì—†ì´, ëª¨ë“  ìˆœê°„ì´ í•˜ë‚˜ë‹˜ì˜ ì£¼ê¶Œ ì•„ë˜ ìˆìŒì„ ë¯¿ìŒìœ¼ë¡œ ê³ ë°±í•˜ë©°, 
                        ì‘ì€ ê°ì‚¬ë“¤ì´ ìŒ“ì—¬ ì‚¶ì„ ë³€í™”ì‹œí‚¤ëŠ” ê¸°ì ì„ ê²½í—˜í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.
                    </p>
                    <div class="highlight">
                        <p style="color: var(--primary-color); font-weight: 600;">
                            íŠ¹ë³„íˆ ì´ë²ˆ ê°ì‚¬í•œë‹¬ ìº í˜ì¸ì—ëŠ” ìš°ë¦¬ êµíšŒ ëª¨ë“  ì„±ë„ë“¤, ì¦‰ <strong>ì–´ë¦°ì´ë¶€, ì¤‘ê³ ë“±ë¶€ë¥¼ í¬í•¨í•œ ì˜¨ êµíšŒ</strong>ê°€ í•¨ê»˜ ì°¸ì—¬í•˜ê²Œ ë©ë‹ˆë‹¤. 
                            ì˜¨ ì„±ë„ë“¤ì´ í•œ ë§ˆìŒìœ¼ë¡œ ê°™ì€ ë§ì”€ì„ ë¬µìƒí•˜ê³  ê°ì‚¬ ì œëª©ì„ ê¸°ë¡í•˜ëŠ” ê·€í•œ ì‹œê°„ì´ ë˜ê¸°ë¥¼ ì†Œë§í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                    <p style="color: #dc2626; font-weight: 600; margin-top: 20px;">
                        ì´ ìº í˜ì¸ì´ ìš°ë¦¬ ëª¨ë‘ì˜ ì‚¶ì´ ê°ì‚¬ì˜ ê³ ë°±ìœ¼ë¡œ ê°€ë“ ì°¨ëŠ” ì˜ì  ì „í™˜ì ì´ ë˜ê¸°ë¥¼ ê°„ì ˆíˆ ë°”ëë‹ˆë‹¤.
                    </p>
                    <div style="margin-top: 30px; font-style: italic; color: #666;">
                        2025ë…„ 10ì›” ì–´ëŠë‚ , ë‹´ì„ëª©ì‚¬ ê¶Œí˜ì¸
                    </div>
                </div>
            </section>

            <section id="how-to" class="card">
                <h2 class="section-title">ì°¸ì—¬ ë°©ë²•</h2>
                
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h3>ê°ì‚¬ ë…¸íŠ¸ ê¸°ë¡</h3>
                        <p>ë§¤ì¼ ê°ì‚¬ì˜ ë§ˆìŒì„ ê¸°ë¡</p>
                        <ul style="text-align: left; margin-top: 15px;">
                            <li>ë§ì”€ ë¬µìƒ ë° ì•”ì†¡</li>
                            <li>ê°ì‚¬ ì œëª© ê¸°ë¡ (2ê°€ì§€ ì´ìƒ)</li>
                            <li>ê°ì‚¬ ê°„ì¦ ë“£ê¸° (QRì½”ë“œ)</li>
                        </ul>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <h3>ê°ì‚¬ í¸ì§€ ì‘ì„±</h3>
                        <p>í•˜ë‚˜ë‹˜ê»˜ ë“œë¦¬ëŠ” í¸ì§€</p>
                        <p style="margin-top: 15px;">
                            í•œ ë‹¬ê°„ì˜ ê¸°ë¡ì´ ëë‚˜ë©´, ë…¸íŠ¸ 25í˜ì´ì§€ í¸ì§€ì§€ì— í•˜ë‚˜ë‹˜ê»˜ ë“œë¦¬ëŠ” ë‚˜ë§Œì˜ ê°ì‚¬ í¸ì§€ë¥¼ ì‘ì„±í•´ ì£¼ì„¸ìš”.
                        </p>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <h3>ë…¸íŠ¸ ì œì¶œ ë° ë´‰í—Œ</h3>
                        <p>11ì›” 23ì¼ ì£¼ì¼</p>
                        <p style="margin-top: 15px;">
                            ì‘ì„±í•œ ê°ì‚¬ ë…¸íŠ¸ë¥¼ ë³¸ë‹¹ ë¡œë¹„ ê°ì‚¬ ë…¸íŠ¸ ë°•ìŠ¤ì— ë„£ì–´ì£¼ì„¸ìš”. ì¶”ìˆ˜ê°ì‚¬ì£¼ì¼ ì˜ˆë°° ì‹œ ë´‰í—Œìœ¼ë¡œ ë“œë¦½ë‹ˆë‹¤.
                        </p>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <h3>ì™„ë£Œ ì„ ë¬¼</h3>
                        <p>11ì›” 30ì¼</p>
                        <p style="margin-top: 15px;">
                            ê¸°ì¨ ê°€ë“í•œ ê°ì‚¬í•œë‹¬ ìº í˜ì¸ì„ ëª¨ë‘ ì™„ìˆ˜í•œ ë¶„ë“¤ì—ê²ŒëŠ” ì‘ì€ ì„ ë¬¼ì„ ë“œë¦½ë‹ˆë‹¤.
                        </p>
                        <p style="color: var(--primary-color); font-weight: 600; margin-top: 10px;">
                            (ì œì¶œí•˜ì‹  ë…¸íŠ¸ëŠ” ì„ ë¬¼ ìˆ˜ë ¹ì‹œ í•¨ê»˜ ë“œë¦½ë‹ˆë‹¤)
                        </p>
                    </div>
                </div>
            </section>

            <section id="schedule" class="schedule">
                <h2 style="font-size: 2rem; margin-bottom: 20px;">ì£¼ìš” ì¼ì •</h2>
                <div class="schedule-items">
                    <div class="schedule-item">
                        <div class="schedule-date">10/12</div>
                        <div>ë…¸íŠ¸ ë°°ë¶€ (1ì°¨)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-date">10/19</div>
                        <div>ë…¸íŠ¸ ë°°ë¶€ (2ì°¨)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-date">10/20</div>
                        <div>ìº í˜ì¸ ì‹œì‘</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-date">11/23</div>
                        <div>ë…¸íŠ¸ ì œì¶œ ë° ë´‰í—Œ<br>(ì¶”ìˆ˜ê°ì‚¬ì£¼ì¼)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-date">11/30</div>
                        <div>ì™„ë£Œ ì„ ë¬¼ ìˆ˜ë ¹</div>
                    </div>
                </div>
            </section>

            <section style="margin: 30px 0;">
                <div class="info-box">
                    ğŸ“š êµìœ¡ë¶€(ì–´ë¦°ì´ë¶€, ì¤‘ê³ ë“±ë¶€) ì•ˆë‚´: ê°ì‚¬ ë…¸íŠ¸ëŠ” ê° ë¶€ì„œ ë‹´ë‹¹ êµì—­ì ë° êµì‚¬ë¥¼ í†µí•´ ë°°ë¶€ë©ë‹ˆë‹¤.
                </div>
            </section>

            <section id="share" class="gratitude-form">
                <h3 class="form-title">ğŸ™ ê°ì‚¬ ë‚˜ëˆ” ê³µê°„</h3>
                <p class="form-subtitle">
                    ë…¸íŠ¸ì— ì“´ ë‚˜ì˜ ê°ì‚¬ì œëª©ì„ ì˜¨ë¼ì¸ì—ì„œ ì˜¨ ì„±ë„ë“¤ê³¼ë„ í•¨ê»˜ ë‚˜ëˆŒìˆ˜ ìˆì–´ìš”<br>
                    ìš°ë¦¬ êµíšŒ ì„±ë„ë“¤ê³¼ í•¨ê»˜ ê°ì‚¬ë¥¼ ë‚˜ëˆ„ë©° ì„œë¡œì—ê²Œ ì€í˜œê°€ ë˜ì–´ìš”
                </p>
                
                <div style="max-width: 600px; margin: 0 auto;">
                    <div class="form-group">
                        <label for="userName" class="form-label">ì´ë¦„ (ì„ íƒì‚¬í•­)</label>
                        <input type="text" id="userName" class="form-input" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ê±°ë‚˜ ë¹„ì›Œë‘ë©´ 'ìµëª…'ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤" maxlength="50">
                    </div>
                    
                    <div class="form-group">
                        <label for="gratitudeText" class="form-label">ğŸ’• ì˜¤ëŠ˜ì˜ ê°ì‚¬</label>
                        <textarea id="gratitudeText" class="form-textarea" placeholder="ì˜¤ëŠ˜ í•˜ë£¨ í•˜ë‚˜ë‹˜ê»˜ì„œ í–‰í•˜ì‹  ì¼ì„ ê¸°ë¡í•´ë³´ì„¸ìš”..." maxlength="500"></textarea>
                    </div>
                    
                    <button onclick="App.saveGratitude()" class="submit-btn" aria-label="ê°ì‚¬ ì œëª© ì œì¶œ">
                        ğŸŒŸ ê°ì‚¬ ë‚˜ëˆ„ê¸°
                    </button>
                </div>
            </section>

            <section class="shared-section">
                <h3 style="font-size: 2rem; text-align: center; margin-bottom: 20px;">ğŸ’ í•¨ê»˜í•˜ëŠ” ê°ì‚¬ë“¤</h3>
                <p style="text-align: center; opacity: 0.9; margin-bottom: 30px;">ìš°ë¦¬ êµíšŒ ì„±ë„ë“¤ì´ ë‚˜ëˆˆ ê°ì‚¬ì˜ ì´ì•¼ê¸°ë“¤</p>
                
                <div id="gratitudeList" class="gratitude-list">
                    <div style="text-align: center; padding: 40px; opacity: 0.8;">
                        <p style="font-size: 1.3rem;">ğŸŒŸ ì²« ë²ˆì§¸ ê°ì‚¬ë¥¼ ë‚˜ëˆ„ì–´ ì£¼ì„¸ìš”!</p>
                        <p style="margin-top: 10px;">ì—¬ëŸ¬ë¶„ì˜ ê°ì‚¬ê°€ ë‹¤ë¥¸ ì„±ë„ë“¤ì—ê²Œ í° ì€í˜œê°€ ë©ë‹ˆë‹¤</p>
                    </div>
                </div>
                <button id="loadMore" class="load-more-btn" style="display: none;" aria-label="ë” ë§ì€ ê°ì‚¬ ë³´ê¸°">ë” ë³´ê¸°</button>
            </section>
        </div>

        <footer class="footer">
            <p class="footer-verse">"ë²”ì‚¬ì— ê°ì‚¬í•˜ë¼ ì´ê²ƒì´ ê·¸ë¦¬ìŠ¤ë„ ì˜ˆìˆ˜ ì•ˆì—ì„œ ë„ˆí¬ë¥¼ í–¥í•˜ì‹  í•˜ë‚˜ë‹˜ì˜ ëœ»ì´ë‹ˆë¼"</p>
            <p style="font-size: 0.9rem; opacity: 0.7; margin-bottom: 20px;">ë°ì‚´ë¡œë‹ˆê°€ì „ì„œ 5:18</p>
            <p>ê°ì‚¬í•œë‹¬ ìº í˜ì¸ê³¼ í•¨ê»˜ í•˜ë‚˜ë‹˜ì˜ ì€í˜œë¥¼ ê²½í—˜í•˜ì„¸ìš”</p>
            <div style="background: var(--primary-color); color: white; padding: 12px 24px; border-radius: var(--border-radius); margin-top: 20px; display: inline-block;">
                âœï¸ ì‚°íƒ€í´ë¼ë¼ì—°í•©ê°ë¦¬êµíšŒ
            </div>
        </footer>
    </div>

    <script>
        const App = {
            gratitudes: [
                {
                    id: 1728259200000,
                    name: 'ê¹€ì€í˜œ',
                    text: 'ì˜¤ëŠ˜ ì•„ì¹¨ ê¸°ë„ ì‹œê°„ì— í•˜ë‚˜ë‹˜ê»˜ì„œ ì£¼ì‹  í‰ì•ˆí•¨ì— ê°ì‚¬ë“œë¦½ë‹ˆë‹¤. ë°”ìœ ì¼ìƒ ì†ì—ì„œë„ ì ì‹œ ë©ˆì¶° ì„œì„œ ì£¼ë‹˜ê³¼ êµì œí•  ìˆ˜ ìˆëŠ” ì‹œê°„ì´ ìˆì–´ì„œ ë„ˆë¬´ ê°ì‚¬í•´ìš”. ê·¸ë¦¬ê³  ê°€ì¡±ë“¤ì´ ëª¨ë‘ ê±´ê°•í•˜ê²Œ í•˜ë£¨ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.',
                    date: '2025. 10. 7.',
                    time: '09:30',
                    likes: 3
                },
                {
                    id: 1728262800000,
                    name: 'ë°•ë¯¿ìŒ',
                    text: 'ì–´ë ¤ìš´ ìƒí™© ê°€ìš´ë°ì„œë„ í•¨ê»˜ ê¸°ë„í•´ì£¼ì‹œëŠ” êµíšŒ ì„±ë„ë‹˜ë“¤ì´ ìˆì–´ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. í˜¼ìê°€ ì•„ë‹ˆë¼ëŠ” ê²ƒì„ ëŠë‚„ ë•Œë§ˆë‹¤ í•˜ë‚˜ë‹˜ì˜ ì‚¬ë‘ì„ ê²½í—˜í•˜ê²Œ ë©ë‹ˆë‹¤. ì˜¤ëŠ˜ë„ ì‘ì€ ì¼ìƒì˜ ê¸°ì¨ë“¤ - ë”°ëœ»í•œ í–‡ì‚´, ë§›ìˆëŠ” ì‹ì‚¬, ê°€ì¡±ì˜ ì›ƒìŒì†Œë¦¬ì— ê°ì‚¬ë“œë ¤ìš”.',
                    date: '2025. 10. 7.',
                    time: '14:20',
                    likes: 5
                }
            ],
            pageSize: 10,
            currentPage: 1,
            isLoaded: false,

            // ì…ë ¥ ë°ì´í„° sanitization
            sanitizeInput(input) {
                const div = document.createElement('div');
                div.textContent = input;
                return div.innerHTML.replace(/[<>&"]/g, (c) => ({
                    '<': '&lt;',
                    '>': '&gt;',
                    '&': '&amp;',
                    '"': '&quot;'
                })[c]);
            },

            initializePage() {
                try {
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('mainContent').style.display = 'block';
                    
                    this.loadData();
                    this.updateCountdown();
                    setInterval(() => this.updateCountdown(), 1000);
                    this.updateActiveNav();
                    this.addEventListeners();
                    
                    this.isLoaded = true;
                } catch (error) {
                    console.log('ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
                    setTimeout(() => this.initializePage(), 1000);
                }
            },

            loadData() {
                try {
                    const saved = localStorage.getItem('gratitudes');
                    if (saved) {
                        this.gratitudes = JSON.parse(saved);
                    }
                    this.showGratitudes();
                } catch (e) {
                    this.gratitudes = [];
                    this.showGratitudes();
                }
            },

            saveData() {
                try {
                    localStorage.setItem('gratitudes', JSON.stringify(this.gratitudes));
                } catch (e) {
                    console.log('ì €ì¥ ì‹¤íŒ¨:', e);
                }
            },

            updateCountdown() {
                try {
                    const start = new Date('2025-10-20T00:00:00');
                    const now = new Date();
                    const diff = start - now;
                    
                    const daysEl = document.getElementById('days');
                    const hoursEl = document.getElementById('hours');
                    const minutesEl = document.getElementById('minutes');
                    const secondsEl = document.getElementById('seconds');
                    const titleEl = document.getElementById('countdownTitle');
                    const boxesEl = document.getElementById('timeBoxes');
                    
                    if (diff > 0) {
                        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                        const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                        
                        if (daysEl && daysEl.textContent !== String(days).padStart(2, '0')) daysEl.textContent = String(days).padStart(2, '0');
                        if (hoursEl && hoursEl.textContent !== String(hours).padStart(2, '0')) hoursEl.textContent = String(hours).padStart(2, '0');
                        if (minutesEl && minutesEl.textContent !== String(minutes).padStart(2, '0')) minutesEl.textContent = String(minutes).padStart(2, '0');
                        if (secondsEl && secondsEl.textContent !== String(seconds).padStart(2, '0')) secondsEl.textContent = String(seconds).padStart(2, '0');
                    } else {
                        if (titleEl) titleEl.textContent = 'ìº í˜ì¸ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!';
                        if (boxesEl) {
                            boxesEl.innerHTML = '<div style="background: var(--accent-color); color: white; padding: 20px; border-radius: var(--border-radius); text-align: center; width: 100%;"><div style="font-size: 1.5rem; font-weight: bold;">ğŸ‰ ìº í˜ì¸ ì§„í–‰ ì¤‘ ğŸ‰</div><div style="margin-top: 10px;">ë§¤ì¼ ê°ì‚¬ë¥¼ ê¸°ë¡í•´ë³´ì„¸ìš”</div></div>';
                        }
                    }
                } catch (error) {
                    console.log('ì¹´ìš´íŠ¸ë‹¤ìš´ ì˜¤ë¥˜:', error);
                }
            },

            saveGratitude() {
                try {
                    const nameEl = document.getElementById('userName');
                    const textEl = document.getElementById('gratitudeText');
                    
                    if (!nameEl || !textEl) return;
                    
                    const name = this.sanitizeInput(nameEl.value.trim()) || 'ìµëª…';
                    const text = this.sanitizeInput(textEl.value.trim());
                    
                    if (!text) {
                        alert('ê°ì‚¬ ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                        return;
                    }
                    
                    const newGratitude = {
                        id: Date.now(),
                        name: name.slice(0, 50),
                        text: text.slice(0, 500),
                        date: new Date().toLocaleDateString('ko-KR'),
                        time: new Date().toLocaleTimeString('ko-KR', {hour: '2-digit', minute: '2-digit'}),
                        likes: 0
                    };
                    
                    this.gratitudes.unshift(newGratitude);
                    this.currentPage = 1;
                    this.saveData();
                    
                    nameEl.value = '';
                    textEl.value = '';
                    
                    this.showGratitudes();
                    this.showNotification();
                } catch (error) {
                    console.log('ì €ì¥ ì˜¤ë¥˜:', error);
                }
            },

            toggleLike(id) {
                try {
                    const gratitude = this.gratitudes.find(g => g.id === id);
                    if (gratitude) {
                        gratitude.likes = (gratitude.likes || 0) + 1;
                        this.saveData();
                        this.showGratitudes();
                    }
                } catch (error) {
                    console.log('ì¢‹ì•„ìš” ì˜¤ë¥˜:', error);
                }
            },

            showGratitudes() {
                try {
                    const list = document.getElementById('gratitudeList');
                    const loadMoreBtn = document.getElementById('loadMore');
                    if (!list) return;
                    
                    if (this.gratitudes.length === 0) {
                        list.innerHTML = '<div style="text-align: center; padding: 40px; opacity: 0.8;"><p style="font-size: 1.3rem;">ğŸŒŸ ì²« ë²ˆì§¸ ê°ì‚¬ë¥¼ ë‚˜ëˆ„ì–´ ì£¼ì„¸ìš”!</p><p style="margin-top: 10px;">ì—¬ëŸ¬ë¶„ì˜ ê°ì‚¬ê°€ ë‹¤ë¥¸ ì„±ë„ë“¤ì—ê²Œ í° ì€í˜œê°€ ë©ë‹ˆë‹¤</p></div>';
                        if (loadMoreBtn) loadMoreBtn.style.display = 'none';
                        return;
                    }
                    
                    const start = (this.currentPage - 1) * this.pageSize;
                    const end = start + this.pageSize;
                    const paginatedGratitudes = this.gratitudes.slice(0, end);
                    
                    list.innerHTML = paginatedGratitudes.map(g => `
                        <div class="gratitude-item" role="article">
                            <div class="gratitude-header">
                                <div class="avatar" aria-hidden="true">${g.name.charAt(0).toUpperCase()}</div>
                                <div>
                                    <div class="user-name">${g.name}</div>
                                    <div style="font-size: 0.9rem; color: #666;">${g.date}</div>
                                </div>
                            </div>
                            <div class="gratitude-text">${g.text}</div>
                            <div class="gratitude-footer">
                                <button onclick="App.toggleLike(${g.id})" class="like-btn" aria-label="${g.name}ì˜ ê°ì‚¬ì— ì¢‹ì•„ìš” ì¶”ê°€">
                                    â¤ï¸ ${g.likes || 0}
                                </button>
                                <span>${g.time}</span>
                            </div>
                        </div>
                    `).join('');
                    
                    loadMoreBtn.style.display = end < this.gratitudes.length ? 'block' : 'none';
                } catch (error) {
                    console.log('í‘œì‹œ ì˜¤ë¥˜:', error);
                }
            },

            loadMoreGratitudes() {
                this.currentPage++;
                this.showGratitudes();
            },

            showNotification() {
                try {
                    const notification = document.getElementById('notification');
                    if (notification) {
                        notification.classList.add('show');
                        setTimeout(() => {
                            notification.classList.remove('show');
                        }, 3000);
                    }
                } catch (error) {
                    console.log('ì•Œë¦¼ ì˜¤ë¥˜:', error);
                }
            },

            updateActiveNav() {
                try {
                    const sections = ['home', 'overview', 'how-to', 'schedule', 'share'];
                    const navItems = document.querySelectorAll('.nav-item');
                    
                    let currentSection = '';
                    
                    sections.forEach(sectionId => {
                        const element = document.getElementById(sectionId);
                        if (element) {
                            const rect = element.getBoundingClientRect();
                            if (rect.top <= 100 && rect.bottom >= 100) {
                                currentSection = sectionId;
                            }
                        }
                    });
                    
                    navItems.forEach(item => {
                        item.classList.remove('active');
                        if (item.getAttribute('href') === '#' + currentSection) {
                            item.classList.add('active');
                            item.setAttribute('aria-current', 'page');
                        } else {
                            item.removeAttribute('aria-current');
                        }
                    });
                } catch (error) {
                    console.log('ë„¤ë¹„ê²Œì´ì…˜ ì˜¤ë¥˜:', error);
                }
            },

            debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            },

            addEventListeners() {
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('nav-item')) {
                        e.preventDefault();
                        const targetId = e.target.getAttribute('href').substring(1);
                        const targetElement = document.getElementById(targetId);
                        
                        if (targetElement) {
                            targetElement.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    }
                });

                document.getElementById('loadMore')?.addEventListener('click', () => this.loadMoreGratitudes());

                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && e.target.classList.contains('submit-btn')) {
                        this.saveGratitude();
                    }
                });

                window.addEventListener('scroll', this.debounce(() => this.updateActiveNav(), 100));
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => App.initializePage(), 100);
        });

        if (document.readyState !== 'loading') {
            setTimeout(() => App.initializePage(), 100);
        }
    </script>
</body>
</html>